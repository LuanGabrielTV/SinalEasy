<body>
    <div id="header">
        <img src="Signaleasy.png" id="logo">
        <div class="container">
            <div>
                <p-autoComplete styleClass="p-dropdown-override" (onSelect)="changeState()" placeholder="Estado"
                    [(ngModel)]="state" [dropdown]="true" [suggestions]="filteredStates"
                    (completeMethod)="filterStates($event)" field="sigla" />
            </div>
            <div>
                <p-autoComplete styleClass="p-dropdown-override" (onSelect)="changeCity()" placeholder="MunicÃ­pio"
                    [forceSelection]="true" [(ngModel)]="city" [virtualScroll]="true" [suggestions]="filteredCities"
                    (completeMethod)="filterCities($event)" field="name" />
            </div>
        </div>
    </div>
    <div class="city" *ngIf="!(this.city == undefined)">
        <p id="title">{{this.city?.name}}, {{this.state?.sigla}}</p><br>
        <p-rating [(ngModel)]="this.rating" [readonly]="true" [cancel]="false" />
        <br><br><br>
        <div class="signal fadeIn" (click)="selectSignal(i)" [ngClass]="{'unselected': this.selectedIndex != i && this.selectedIndex != undefined, 'selected': this.selectedIndex == i && this.selectedIndex != undefined}" *ngFor="let s of this.signals, index as i">
            <h3>{{s.name}}</h3>
            <div class="type" ngClass={{signalType[s.type!]}}>
                <img src="{{signalType[s.type!]+ '.svg'}}"><small>{{signalType[s.type!]}}</small>
            </div>
            <div style="display:flex;justify-content: space-between;">
                <p class="address">{{s.address}}</p>
                <p class="status">{{status[s.status!]}}</p>
            </div>
        </div>
    </div>

    <div class="map-container">
        <div class="map-frame">
            <div id="map"></div>
        </div>
    </div>
</body>